(this["webpackJsonpmvc-web-wallet"]=this["webpackJsonpmvc-web-wallet"]||[]).push([[0],{14:function(e,a,t){"use strict";t.d(a,"b",(function(){return s})),t.d(a,"i",(function(){return d})),t.d(a,"j",(function(){return b})),t.d(a,"h",(function(){return f})),t.d(a,"c",(function(){return o})),t.d(a,"f",(function(){return i})),t.d(a,"g",(function(){return u})),t.d(a,"d",(function(){return l})),t.d(a,"e",(function(){return p})),t.d(a,"l",(function(){return h})),t.d(a,"a",(function(){return j})),t.d(a,"k",(function(){return x}));var c=t(41),n=t.n(c),r=t(246);function s(e){for(var a=new n.a(e),t=0;t<(arguments.length<=1?0:arguments.length-1);t++)a=a.div(new n.a(t+1<1||arguments.length<=t+1?void 0:arguments[t+1]));return a.toString()}function d(e){for(var a=new n.a(e),t=0;t<(arguments.length<=1?0:arguments.length-1);t++)a=a.multipliedBy(new n.a(t+1<1||arguments.length<=t+1?void 0:arguments[t+1]));return a.toString()}function b(e){for(var a=new n.a(e),t=0;t<(arguments.length<=1?0:arguments.length-1);t++)a=a.plus(new n.a(t+1<1||arguments.length<=t+1?void 0:arguments[t+1]));return a.toString()}function f(e){for(var a=new n.a(e),t=0;t<(arguments.length<=1?0:arguments.length-1);t++)a=a.minus(new n.a(t+1<1||arguments.length<=t+1?void 0:arguments[t+1]));return a.toString()}function o(e){return new n.a(10).pow(e).toString()}function i(e,a){return new n.a(e).lt(new n.a(a))}function u(e,a){return new n.a(e).lte(new n.a(a))}function l(e,a){return new n.a(e).gt(new n.a(a))}function p(e,a){return new n.a(e).gte(new n.a(a))}function h(e){return new n.a(e).toString()}function j(e,a){a=a||1;var t=e.toBuffer().length,c=e.getFee()/t;if(c<a&&c<10){var n="The fee rate should not be less than ".concat(a,", but in the end it is ").concat(c);throw r.b.error(n),new Error(n)}}function x(e){return JSON.parse(JSON.stringify(e,(function(e,a){return"bigint"===typeof a?a.toString():a})))}},234:function(e,a){},30:function(e,a,t){"use strict";(function(e){t.d(a,"b",(function(){return g})),t.d(a,"j",(function(){return w})),t.d(a,"c",(function(){return k})),t.d(a,"g",(function(){return y})),t.d(a,"h",(function(){return S})),t.d(a,"i",(function(){return T})),t.d(a,"l",(function(){return I})),t.d(a,"f",(function(){return A})),t.d(a,"d",(function(){return L})),t.d(a,"e",(function(){return _})),t.d(a,"a",(function(){return H})),t.d(a,"n",(function(){return W})),t.d(a,"m",(function(){return Z})),t.d(a,"k",(function(){return ee}));var c=t(7),n=t(9),r=t(3),s=t(19),d=t(25),b=t(91),f=t(90),o=t.n(f),i=t(243),u=t(14),l=t(667),p=t(358),h="https://mvcscan.com",j="https://test.mvcscan.com",x=1050;function v(e){return e===b.a.Mainnet?"https://mainnet.mvcapi.com":"https://testnet.mvcapi.com"}function m(e){return 200===e.status}function O(e){return new Promise((function(a){return setTimeout(a,e)}))}function g(e,a){return u.b(e,u.c(a))}function w(e,a){try{return new d.mvc.Address(a,e),!0}catch(t){return!1}}function k(a,t){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:b.a.Testnet,n=a;n+="|"+t+"|",n+=n.length+"|!@"+7*(7*t.length+a.length);var r=t.match(/[a-z]+/g)?t.match(/[a-z]+/g).length:1,s=t.match(/[A-Z]+/g)?t.match(/[A-Z]+/g).length:1,f=t.match(/[0-9]+/g)?t.match(/[0-9]+/g).length:1;n+=(f+r+s)*t.length+"3571",n+=n+""+n;var o=e.from(n);o=d.mvc.crypto.Hash.sha256(o);for(var i=0;i<=49;i++){var u=e.from(o.toString("hex"));o=d.mvc.crypto.Hash.sha256(u)}var l=d.mvc.crypto.Hash.sha256(e.from(o.toString("hex"))).toString("hex"),p=new d.mvc.PrivateKey(l,c),h=p.toAddress(c).toString();return{address:h,privateKey:p.toString(),publicKey:p.toPublicKey().toString()}}function y(e,a,t,c){var n=e===b.a.Mainnet?"":"/test";return"https://sensiblequery.com".concat(n,"/#/ft/utxo/").concat(c,"/").concat(t,"/").concat(a)}function S(e,a){var t="";return e===b.a.Mainnet&&(t=h+"/address/"),e===b.a.Testnet&&(t=j+"/address/"),t?t+=a:t}function T(e,a){var t="";return e===b.a.Mainnet&&(t=h+"/tx/"),e===b.a.Testnet&&(t=j+"/tx/"),t?t+=a:t}function I(e){return P.apply(this,arguments)}function P(){return(P=Object(s.a)(Object(n.a)().mark((function a(t){var c,r,s,b,f,o,i,u,l;return Object(n.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c=t.txHex,r=t.scriptHex,s=t.inputIndex,b=t.privateKey,f=t.publicKey,o=t.satoshis,i=new d.mvc.Transaction(c),u=d.mvc.Script.fromBuffer(e.from(r,"hex")),l=Object(d.toHex)(Object(d.signTx)(i,b,u,Number(o),s)),a.abrupt("return",{publicKey:f.toString(),sig:l});case 5:case"end":return a.stop()}}),a)})))).apply(this,arguments)}function A(e,a){return K.apply(this,arguments)}function K(){return(K=Object(s.a)(Object(n.a)().mark((function e(a,t){var r,s,d,b;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=[],s=20,e.prev=2,d=1;case 4:return e.next=6,C(a,t,d,s);case 6:if(b=e.sent,r=[].concat(Object(c.a)(r),Object(c.a)(b)),!(b.length<s)){e.next=10;break}return e.abrupt("break",13);case 10:d++,e.next=4;break;case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(2),console.log("getAddressSensibleFtList error"),console.error(e.t0);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e,null,[[2,15]])})))).apply(this,arguments)}function C(e,a,t){return F.apply(this,arguments)}function F(){return F=Object(s.a)(Object(n.a)().mark((function e(a,t,c){var r,s,d=arguments;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d.length>3&&void 0!==d[3]?d[3]:20,r=v(a),e.next=4,o.a.get("".concat(r,"/contract/ft/address/").concat(t,"/balance"));case 4:if(s=e.sent,!m(s)){e.next=8;break}return e.abrupt("return",(s.data||[]).map((function(e){return{genesis:e.genesis,codehash:e.codeHash,sensibleId:e.sensibleId,tokenName:e.name,tokenSymbol:e.symbol,tokenDecimal:e.decimal,balance:u.j(e.confirmedString,e.unconfirmedString)}})));case 8:throw new Error(s.statusText);case 9:case"end":return e.stop()}}),e)}))),F.apply(this,arguments)}function N(e,a,t){return B.apply(this,arguments)}function B(){return B=Object(s.a)(Object(n.a)().mark((function e(a,t,c){var r,s,d,b=arguments;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=b.length>3&&void 0!==b[3]?b[3]:16,(c-1)*r,s=v(a),e.next=5,o.a.get("".concat(s,"/address/").concat(t,"/utxo"));case 5:if(d=e.sent,!m(d)){e.next=9;break}return e.abrupt("return",(d.data||[]).map((function(e){return{txId:e.txid,outputIndex:e.outIndex,satoshis:e.value,address:t}})));case 9:throw new Error(d.statusText);case 10:case"end":return e.stop()}}),e)}))),B.apply(this,arguments)}function L(e,a){return E.apply(this,arguments)}function E(){return(E=Object(s.a)(Object(n.a)().mark((function e(a,t){var c,r;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=v(a),e.next=3,o.a.get("".concat(c,"/address/").concat(t,"/balance"));case 3:if(200!=(r=e.sent).status){e.next=6;break}return e.abrupt("return",u.j(r.data.confirmed,r.data.unconfirmed));case 6:throw new Error(r.statusText);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e,a){return z.apply(this,arguments)}function z(){return(z=Object(s.a)(Object(n.a)().mark((function e(a,t){var c,r,s,d,b;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=1,r=16,s="0";case 3:return e.next=5,N(a,t,c,r);case 5:if(d=e.sent,b=d.reduce((function(e,a){return u.j(e,a.satoshis)}),"0"),s=u.j(s,b),!(d.length<r)){e.next=10;break}return e.abrupt("break",13);case 10:c++;case 11:e.next=3;break;case 13:return console.log("balance",s),e.abrupt("return",s);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(e,a){return q.apply(this,arguments)}function q(){return(q=Object(s.a)(Object(n.a)().mark((function e(a,t){var c,r;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=v(a),console.log("broadcastSensibleQeury: ",a,t),e.next=4,o.a.post("".concat(c,"/tx/broadcast"),{hex:t});case 4:if(r=e.sent,!m(r)){e.next=8;break}return e.abrupt("return",new d.mvc.Transaction(t).hash);case 8:throw new Error("broadcast failed");case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var R=function(e){return"Insufficient balance."===e.message?new Error("Low mvc balance to pay miners"):e},M=function(e,a){var t=p.find((function(t){return t.codehash===e&&t.genesis===a}));return t?t.satotxList:[]},D=function(){for(var e=arguments.length,a=new Array(e),t=0;t<e;t++)a[t]=arguments[t];for(var c=0,n=a;c<n.length;c++){var r=n[c];if(r&&r.length>0)return r}return[]};function W(e,a,t,c,n,r){return J.apply(this,arguments)}function J(){return J=Object(s.a)(Object(n.a)().mark((function e(a,t,c,r,s,d){var b,f,o,l,p,h,j,x,v,m,g,w,k,y,S,T,I,P,A,K,C,F,N,B,L=arguments;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b=L.length>6&&void 0!==L[6]&&L[6],f=L.length>7&&void 0!==L[7]&&L[7],o=M(s,d),t=D(t,o),console.log("signers",t),l=new i.SensibleFT({network:a,purse:c,feeb:1.05}),console.log("transferSensibleFt",r,a,s,d,t),e.prev=7,e.next=10,l.transfer({senderWif:c,receivers:r,codehash:s,genesis:d,utxos:b,noBroadcast:f});case 10:if(p=e.sent,h=p.txid,j=p.tx,x=p.routeCheckTx,!0!==f){e.next=16;break}return e.abrupt("return",{tx:j,routeCheckTx:x});case 16:return u.a(j),v=ee(a,j.serialize(!0)),e.abrupt("return",{txid:h,outputs:v.outputs});case 21:if(e.prev=21,e.t0=e.catch(7),m=R(e.t0),g=m.toString(),w=g.indexOf("Mvc utxos should be no more than 3 in ")>0,k=g.indexOf("Too many token-utxos")>0,console.log("broadcast sensible ft error"),console.error(m),w||k){e.next=31;break}throw m;case 31:if(!w){e.next=64;break}return e.prev=32,e.next=35,X(a,c);case 35:return e.next=37,O(3e3);case 37:e.next=44;break;case 39:throw e.prev=39,e.t1=e.catch(32),console.log("merge mvc utxo fail"),console.error(e.t1),e.t1;case 44:return e.prev=44,e.next=47,l.transfer({senderWif:c,receivers:r,codehash:s,genesis:d});case 47:return y=e.sent,S=y.txid,T=y.tx,u.a(T),I=ee(a,T.serialize(!0)),e.abrupt("return",{txid:S,outputs:I.outputs});case 55:if(e.prev=55,e.t2=e.catch(44),P=R(e.t2),console.log("ft transfer fail after mvc utxo merge"),console.error(P),A=P.toString(),k=A.indexOf("Too many token-utxos")>0){e.next=64;break}throw P;case 64:if(!k){e.next=94;break}return e.prev=65,e.next=68,l.merge();case 68:return e.next=70,O(3e3);case 70:e.next=77;break;case 72:throw e.prev=72,e.t3=e.catch(65),console.log("merge ft utxo fail"),console.error(e.t3),e.t3;case 77:return e.prev=77,e.next=80,l.transfer({senderWif:c,receivers:r,codehash:s,genesis:d});case 80:return K=e.sent,C=K.txid,F=K.tx,u.a(F),N=ee(a,F.serialize(!0)),e.abrupt("return",{txid:C,outputs:N.outputs});case 88:throw e.prev=88,e.t4=e.catch(77),B=R(e.t4),console.log("ft transfer fail after ft utxo merge"),console.error(B),B;case 94:case"end":return e.stop()}}),e,null,[[7,21],[32,39],[44,55],[65,72],[77,88]])}))),J.apply(this,arguments)}var G=d.mvc.crypto.Signature,V=G.SIGHASH_ALL|G.SIGHASH_FORKID;function U(e,a,t,c){var n=new d.mvc.Transaction.Signature({publicKey:e.publicKey,prevTxId:a.inputs[t].prevTxId,outputIndex:a.inputs[t].outputIndex,inputIndex:t,signature:d.mvc.Transaction.Sighash.sign(a,e,c,t,a.inputs[t].output.script,a.inputs[t].output.satoshisBN),sigtype:c});a.inputs[t].setScript(d.mvc.Script.buildPublicKeyHashIn(n.publicKey,n.signature.toDER(),n.sigtype))}function Y(e,a,t){var c=!0,n={},r=function(e,a){return"".concat(e,"_").concat(u.l(a))};a.outputs.forEach((function(e){var a=e.script.toAddress(t),c=e.satoshis,s=r(a,c);n[s]=(n[s]||0)+1}));for(var s=0;s<e.length;s++){var d=e[s],b=r(d.address,d.amount);if(!n[b]){c=!1;break}n[b]=n[b]-1}return c}function Z(e,a,t){return Q.apply(this,arguments)}function Q(){return Q=Object(s.a)(Object(n.a)().mark((function e(a,t,c){var r,s,b,f,o,i,p,h,j,v,m,O,g,w,k,y,S=arguments;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=S.length>3&&void 0!==S[3]&&S[3],s=S.length>4&&void 0!==S[4]&&S[4],console.log("arguments",a,t,c),b=new d.mvc.PrivateKey(t,a).toAddress(a),e.next=6,_(a,b);case 6:if(f=e.sent,o=c.reduce((function(e,a){return u.j(e,a.amount)}),"0"),!u.f(f,o)){e.next=10;break}throw new Error("Insufficient_mvc_Balance");case 10:i="0",p=[],(h=new d.mvc.Transaction).feePerKb(x),j=456,v=16,m=1;case 17:return e.next=19,N(a,b,m,v);case 19:O=e.sent,g=0;case 21:if(!(g<O.length)){e.next=31;break}if(w=O[g],i=u.j(i,w.satoshis),p.push(w),h.addInput(new d.mvc.Transaction.Input.PublicKeyHash({output:new d.mvc.Transaction.Output({script:d.mvc.Script.buildPublicKeyHashOut(w.address),satoshis:w.satoshis}),prevTxId:w.txId,outputIndex:w.outputIndex,script:d.mvc.Script.empty()})),s||!u.g(u.j(o,j),i)){e.next=28;break}return e.abrupt("break",31);case 28:g++,e.next=21;break;case 31:if(s||!u.g(u.j(o,j),i)){e.next=33;break}return e.abrupt("break",38);case 33:if(!(O.length<=v)){e.next=35;break}return e.abrupt("break",38);case 35:m++,e.next=17;break;case 38:if(c.forEach((function(e){h.to(e.address,+e.amount)})),u.d(u.h(i,+o),0)&&h.change(b),u.f(u.h(i,h.getFee(),o),j)&&(h.clearOutputs(),c.forEach((function(e,a){c.length===a+1?h.change(e.address):h.to(e.address,+e.amount)}))),h.inputs.forEach((function(e,a){U(new d.mvc.PrivateKey(t),h,a,V)})),u.a(h),!0!==r){e.next=45;break}return e.abrupt("return",h);case 45:return e.next=47,H(a,h.serialize());case 47:return k=e.sent,y=ee(a,h.serialize(!0)),Y(c,h,a)||(console.log(u.k({type:"mvcTransferAmountNotSatified",txid:h.hash,receivers:c,outputs:y.outputs})),l.b("mvcTransferAmountNotSatified_".concat(b,"_").concat(h.hash))),e.abrupt("return",{txid:k,outputs:y.outputs,fee:h.getFee()});case 52:case"end":return e.stop()}}),e)}))),Q.apply(this,arguments)}function X(e,a){return $.apply(this,arguments)}function $(){return($=Object(s.a)(Object(n.a)().mark((function e(a,t){var c,r,s,b,f;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=new d.mvc.PrivateKey(t,a).toAddress(a),e.next=3,N(a,c,1);case 3:return r=e.sent,(s=new d.mvc.Transaction).feePerKb(x),r.forEach((function(e){s.addInput(new d.mvc.Transaction.Input.PublicKeyHash({output:new d.mvc.Transaction.Output({script:d.mvc.Script.buildPublicKeyHashOut(e.address),satoshis:e.satoshis}),prevTxId:e.txId,outputIndex:e.outputIndex,script:d.mvc.Script.empty()}))})),s.change(c),s.inputs.forEach((function(e,a){U(new d.mvc.PrivateKey(t),s,a,V)})),u.a(s),e.next=12,H(a,s.serialize());case 12:return b=e.sent,f=ee(a,s.serialize(!0)),e.abrupt("return",{txid:b,outputs:f.outputs});case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ee(e,a){var t;try{t=new d.mvc.Transaction(a)}catch(c){return{error:c.message}}return{inputs:t.inputs.map((function(a,t){var n=void a.script.toBuffer(),s={index:t,prevTxId:a.prevTxId.toString("hex"),outputIndex:a.outputIndex,script:a.script.toString("hex")};try{var d=a.script.toAddress(e);d&&(s.address=d.toString())}catch(c){}return n?n.tokenAmount<=0?s:s=Object(r.a)(Object(r.a)({},s),{},{isFt:!0,ftDetail:{genesis:n.genesis,codehash:n.codehash,address:n.tokenAddress,decimal:n.decimalNum,name:n.tokenName,symbol:n.tokenSymbol,sensibleId:n.sensibleId}}):s})),outputs:t.outputs.map((function(a,t){var n=void a.script.toBuffer(),s={index:t,satoshis:a.satoshis,script:a.script.toString("hex")};try{var d=a.script.toAddress(e);d&&(s.address=d.toString())}catch(c){}return n?n.tokenAmount<=0?s:s=Object(r.a)(Object(r.a)({},s),{},{isFt:!0,ftDetail:{genesis:n.genesis,codehash:n.codehash,address:n.tokenAddress,decimal:n.decimalNum,name:n.tokenName,symbol:n.tokenSymbol,amount:n.tokenAmount,sensibleId:n.sensibleId}}):s})),txid:t.hash}}window.transferMvc=Z,window.signAnyTx=I}).call(this,t(13).Buffer)},325:function(e,a){},358:function(e){e.exports=JSON.parse('[{"codehash":"514776383faa66e4a65808904d4d6724e4774fbe","genesis":"d486f42fd4930c964f6840a2997b0ef9b3abc38d","satotxList":[{"satotxApiPrefix":"https://satotx.showpay.top","satotxPubKey":"5b94858991d384c61ffd97174e895fcd4f62e4fea618916dc095fe4c149bbdf1188c9b33bc15cbe963a63b2522e70b80a5b722ac0e6180407917403755df4de27d69cc115c683a99face8c823cbccf73c7f0d546f1300b9ee2e96aea85542527f33b649f1885caebe19cf75d9a645807f03565c65bd4c99c8f6bb000644cfb56969eac3e9331c254b08aa279ceb64c47ef66be3f071e28b3a5a21e48cdfc3335d8b52e80a09a104a791ace6a2c1b4da88c52f9cc28c54a324e126ec91a988c1fe4e21afc8a84d0e876e01502386f74e7fc24fc32aa249075dd222361aea119d4824db2a797d58886e93bdd60556e504bb190b76a451a4e7b0431973c0410e71e808d0962415503931bbde3dfce5186b371c5bf729861f239ef626b7217d071dfd62bac877a847f2ac2dca07597a0bb9dc1969bed40606c025c4ff7b53a4a6bd921642199c16ede8165ed28da161739fa8d33f9f483212759498c1219d246092d14c9ae63808f58f03c8ca746904ba51fa326d793cea80cda411c85d35894bdb5"},{"satotxApiPrefix":"https://satotx2.showpay.top","satotxPubKey":"09539fcf01e83c7c649164ddd0dd42463ef10a98c665cd0d9f791446a3c4c2dd3916f6e76075b36a06f40731821f6b7dbb8bea8effa4ea461fecce4b6b2d45ca4dd923028fd6dc6ce49512616ca55f01162e5d2f85faa22ec40bc35d4978204a9b07a53f04297b886fa4abb095034f106f8ff0fd172e1e96bf7198cd5b9944ec1af32328a156877769ecabd41489a7ac858fd35cd8d93e68f33053077cf50bb397b66d160598963d1b663b3bce6371877df0e33866e4d9557b0bde7a2a930c274fa9e697d9f17ad88528ecab1be32a9d518bb950fc8264f2056d4f395fcdc12dd59cb8945013105ed52433326e3fa067237f17ab62e65557c7538e634daf11288b7eaab537abf2cc2a90159632fb9bb8fac01085b70024e01e42cd431db70d004963e46da8733c18fd5ffaaecfd67c860ae37441271ba545f86cae72690a5a3261e0125a2bf069fe28a1e1431b4cac29f8a43cbefbe22d5ae4b92441f8915881560271ee31379d365da38f1a5fa1414d6ad71943a083cce0ee45d47f81ff3c9d"},{"satotxApiPrefix":"https://satotx3.showpay.top","satotxPubKey":"8e37df222f9af47980ad72d31b2619b49460c7be3a4c1034c0e7f43146d80058e52bfc53b0608db5a9ec5cb832c326f785f5c4e4349cc9fd647839738f465573d1707ef84d14c41ad857a1a8e5a075ae953be4c52481ee3b8e85891613dcf99c1f7bf3a51cd67ed92f9b71d77b8517a57af5fb4e2bad7197031e00c1d8b85d0abc62fb98952d9ddfb43b47c01590ef0a365aed89b179505ccfd1d70effe4d375d5e774578434f8f9bb2281100b6e1daf8df4a40af35853c91aee2dc7f578034fa534586985e4df30b7a85efab943f68f01b46f72ced16655ac4f7e7f0439e0e6b43803dc7e262512c57ef862d41b98344ea6e725683846d91209ad87097cb4ae7092cc2c4ebd39383905e61eeaae495d8b3a57f9da8cca760b9546635cef2a8728c4209891ad1e5cbeb75d2b798f0dabd1eceaf4b297186fd2a45ed58fbaed886a4dc2f8690c9070061b9481e446319b7f0a54f9d94e7505e87e3d81bcd664ecc29acc2942361e60b30fa965cdc88185163c2857644d837c9d839bb9f6b8e6dd"},{"satotxApiPrefix":"https://s1.satoplay.com","satotxPubKey":"2c8c0117aa5edba9a4539e783b6a1bdbc1ad88ad5b57f3d9c5cba55001c45e1fedb877ebc7d49d1cfa8aa938ccb303c3a37732eb0296fee4a6642b0ff1976817b603404f64c41ec098f8cd908caf64b4a3aada220ff61e252ef6d775079b69451367eda8fdb37bc55c8bfd69610e1f31b9d421ff44e3a0cfa7b11f334374827256a0b91ce80c45ffb798798e7bd6b110134e1a3c3fa89855a19829aab3922f55da92000495737e99e0094e6c4dbcc4e8d8de5459355c21ff055d039a202076e4ca263b745a885ef292eec0b5a5255e6ecc45534897d9572c3ebe97d36626c7b1e775159e00b17d03bc6d127260e13a252afd89bab72e8daf893075f18c1840cb394f18a9817913a9462c6ffc8951bee50a05f38da4c9090a4d6868cb8c955e5efb4f3be4e7cf0be1c399d78a6f6dd26a0af8492dca67843c6da9915bae571aa9f4696418ab1520dd50dd05f5c0c7a51d2843bd4d9b6b3b79910e98f3d98099fd86d71b2fac290e32bdacb31943a8384a7668c32a66be127b74390b4b0dec6455"},{"satotxApiPrefix":"https://satotx.metasv.com","satotxPubKey":"19d9193ee2e95d09445d28408e8a3da730b2d557cd8d39a7ae4ebbfbceb17ed5d745623529ad33d043511f3e205c1f92b6322833424d19823c3b611b3adabb74e1006e0e93a8f1e0b97ab801c6060a4c060f775998d9f003568ab4ea7633a0395eb761c36106e229394f2c271b8522a44a5ae759254f5d22927923ba85b3729460ecccca07a5556299aa7f2518814c74a2a4d48b48013d609002631f2d93c906d07077ef58d473e3d971362d1129c1ab9b8f9b1365519f0c023c1cadad5ab57240d19e256e08022fd0708951ff90a8af0655aff806c6382d0a72c13f1e52b88222d7dfc6357179b06ffcf937f9da3b0419908aa589a731e26bbaba2fa0b754bf722e338c5627b11dc24aadc4d83c35851c034936cf0df18167e856a5f0a7121d23cd48b3f8a420869a37bd1362905d7f76ff18a991f75a0f9d1bcfc18416d76691cc357cbdcc8cc0df9dbd9318a40e08adb2fb4e78b3c47bdf07eeed4f3f4e0f7e81e37460a09b857e0194c72ec03bb564b5b409d8a1b84c153186ecbb4cfdfd"}]},{"codehash":"514776383faa66e4a65808904d4d6724e4774fbe","genesis":"9757197ec84183cd39e2239e56c8cc04fce9f9cd","satotxList":[{"satotxApiPrefix":"https://satotx.showpay.top","satotxPubKey":"5b94858991d384c61ffd97174e895fcd4f62e4fea618916dc095fe4c149bbdf1188c9b33bc15cbe963a63b2522e70b80a5b722ac0e6180407917403755df4de27d69cc115c683a99face8c823cbccf73c7f0d546f1300b9ee2e96aea85542527f33b649f1885caebe19cf75d9a645807f03565c65bd4c99c8f6bb000644cfb56969eac3e9331c254b08aa279ceb64c47ef66be3f071e28b3a5a21e48cdfc3335d8b52e80a09a104a791ace6a2c1b4da88c52f9cc28c54a324e126ec91a988c1fe4e21afc8a84d0e876e01502386f74e7fc24fc32aa249075dd222361aea119d4824db2a797d58886e93bdd60556e504bb190b76a451a4e7b0431973c0410e71e808d0962415503931bbde3dfce5186b371c5bf729861f239ef626b7217d071dfd62bac877a847f2ac2dca07597a0bb9dc1969bed40606c025c4ff7b53a4a6bd921642199c16ede8165ed28da161739fa8d33f9f483212759498c1219d246092d14c9ae63808f58f03c8ca746904ba51fa326d793cea80cda411c85d35894bdb5"},{"satotxApiPrefix":"https://satotx2.showpay.top","satotxPubKey":"09539fcf01e83c7c649164ddd0dd42463ef10a98c665cd0d9f791446a3c4c2dd3916f6e76075b36a06f40731821f6b7dbb8bea8effa4ea461fecce4b6b2d45ca4dd923028fd6dc6ce49512616ca55f01162e5d2f85faa22ec40bc35d4978204a9b07a53f04297b886fa4abb095034f106f8ff0fd172e1e96bf7198cd5b9944ec1af32328a156877769ecabd41489a7ac858fd35cd8d93e68f33053077cf50bb397b66d160598963d1b663b3bce6371877df0e33866e4d9557b0bde7a2a930c274fa9e697d9f17ad88528ecab1be32a9d518bb950fc8264f2056d4f395fcdc12dd59cb8945013105ed52433326e3fa067237f17ab62e65557c7538e634daf11288b7eaab537abf2cc2a90159632fb9bb8fac01085b70024e01e42cd431db70d004963e46da8733c18fd5ffaaecfd67c860ae37441271ba545f86cae72690a5a3261e0125a2bf069fe28a1e1431b4cac29f8a43cbefbe22d5ae4b92441f8915881560271ee31379d365da38f1a5fa1414d6ad71943a083cce0ee45d47f81ff3c9d"},{"satotxApiPrefix":"https://satotx3.showpay.top","satotxPubKey":"8e37df222f9af47980ad72d31b2619b49460c7be3a4c1034c0e7f43146d80058e52bfc53b0608db5a9ec5cb832c326f785f5c4e4349cc9fd647839738f465573d1707ef84d14c41ad857a1a8e5a075ae953be4c52481ee3b8e85891613dcf99c1f7bf3a51cd67ed92f9b71d77b8517a57af5fb4e2bad7197031e00c1d8b85d0abc62fb98952d9ddfb43b47c01590ef0a365aed89b179505ccfd1d70effe4d375d5e774578434f8f9bb2281100b6e1daf8df4a40af35853c91aee2dc7f578034fa534586985e4df30b7a85efab943f68f01b46f72ced16655ac4f7e7f0439e0e6b43803dc7e262512c57ef862d41b98344ea6e725683846d91209ad87097cb4ae7092cc2c4ebd39383905e61eeaae495d8b3a57f9da8cca760b9546635cef2a8728c4209891ad1e5cbeb75d2b798f0dabd1eceaf4b297186fd2a45ed58fbaed886a4dc2f8690c9070061b9481e446319b7f0a54f9d94e7505e87e3d81bcd664ecc29acc2942361e60b30fa965cdc88185163c2857644d837c9d839bb9f6b8e6dd"},{"satotxApiPrefix":"https://s1.satoplay.com","satotxPubKey":"2c8c0117aa5edba9a4539e783b6a1bdbc1ad88ad5b57f3d9c5cba55001c45e1fedb877ebc7d49d1cfa8aa938ccb303c3a37732eb0296fee4a6642b0ff1976817b603404f64c41ec098f8cd908caf64b4a3aada220ff61e252ef6d775079b69451367eda8fdb37bc55c8bfd69610e1f31b9d421ff44e3a0cfa7b11f334374827256a0b91ce80c45ffb798798e7bd6b110134e1a3c3fa89855a19829aab3922f55da92000495737e99e0094e6c4dbcc4e8d8de5459355c21ff055d039a202076e4ca263b745a885ef292eec0b5a5255e6ecc45534897d9572c3ebe97d36626c7b1e775159e00b17d03bc6d127260e13a252afd89bab72e8daf893075f18c1840cb394f18a9817913a9462c6ffc8951bee50a05f38da4c9090a4d6868cb8c955e5efb4f3be4e7cf0be1c399d78a6f6dd26a0af8492dca67843c6da9915bae571aa9f4696418ab1520dd50dd05f5c0c7a51d2843bd4d9b6b3b79910e98f3d98099fd86d71b2fac290e32bdacb31943a8384a7668c32a66be127b74390b4b0dec6455"},{"satotxApiPrefix":"https://satotx.metasv.com","satotxPubKey":"19d9193ee2e95d09445d28408e8a3da730b2d557cd8d39a7ae4ebbfbceb17ed5d745623529ad33d043511f3e205c1f92b6322833424d19823c3b611b3adabb74e1006e0e93a8f1e0b97ab801c6060a4c060f775998d9f003568ab4ea7633a0395eb761c36106e229394f2c271b8522a44a5ae759254f5d22927923ba85b3729460ecccca07a5556299aa7f2518814c74a2a4d48b48013d609002631f2d93c906d07077ef58d473e3d971362d1129c1ab9b8f9b1365519f0c023c1cadad5ab57240d19e256e08022fd0708951ff90a8af0655aff806c6382d0a72c13f1e52b88222d7dfc6357179b06ffcf937f9da3b0419908aa589a731e26bbaba2fa0b754bf722e338c5627b11dc24aadc4d83c35851c034936cf0df18167e856a5f0a7121d23cd48b3f8a420869a37bd1362905d7f76ff18a991f75a0f9d1bcfc18416d76691cc357cbdcc8cc0df9dbd9318a40e08adb2fb4e78b3c47bdf07eeed4f3f4e0f7e81e37460a09b857e0194c72ec03bb564b5b409d8a1b84c153186ecbb4cfdfd"}]},{"codehash":"777e4dd291059c9f7a0fd563f7204576dcceb791","genesis":"54256eb1b9c815a37c4af1b82791ec6bdf5b3fa3","name":"mc","satotxList":[{"satotxApiPrefix":"https://satotx.showpay.top","satotxPubKey":"5b94858991d384c61ffd97174e895fcd4f62e4fea618916dc095fe4c149bbdf1188c9b33bc15cbe963a63b2522e70b80a5b722ac0e6180407917403755df4de27d69cc115c683a99face8c823cbccf73c7f0d546f1300b9ee2e96aea85542527f33b649f1885caebe19cf75d9a645807f03565c65bd4c99c8f6bb000644cfb56969eac3e9331c254b08aa279ceb64c47ef66be3f071e28b3a5a21e48cdfc3335d8b52e80a09a104a791ace6a2c1b4da88c52f9cc28c54a324e126ec91a988c1fe4e21afc8a84d0e876e01502386f74e7fc24fc32aa249075dd222361aea119d4824db2a797d58886e93bdd60556e504bb190b76a451a4e7b0431973c0410e71e808d0962415503931bbde3dfce5186b371c5bf729861f239ef626b7217d071dfd62bac877a847f2ac2dca07597a0bb9dc1969bed40606c025c4ff7b53a4a6bd921642199c16ede8165ed28da161739fa8d33f9f483212759498c1219d246092d14c9ae63808f58f03c8ca746904ba51fa326d793cea80cda411c85d35894bdb5"},{"satotxApiPrefix":"https://satotx2.showpay.top","satotxPubKey":"09539fcf01e83c7c649164ddd0dd42463ef10a98c665cd0d9f791446a3c4c2dd3916f6e76075b36a06f40731821f6b7dbb8bea8effa4ea461fecce4b6b2d45ca4dd923028fd6dc6ce49512616ca55f01162e5d2f85faa22ec40bc35d4978204a9b07a53f04297b886fa4abb095034f106f8ff0fd172e1e96bf7198cd5b9944ec1af32328a156877769ecabd41489a7ac858fd35cd8d93e68f33053077cf50bb397b66d160598963d1b663b3bce6371877df0e33866e4d9557b0bde7a2a930c274fa9e697d9f17ad88528ecab1be32a9d518bb950fc8264f2056d4f395fcdc12dd59cb8945013105ed52433326e3fa067237f17ab62e65557c7538e634daf11288b7eaab537abf2cc2a90159632fb9bb8fac01085b70024e01e42cd431db70d004963e46da8733c18fd5ffaaecfd67c860ae37441271ba545f86cae72690a5a3261e0125a2bf069fe28a1e1431b4cac29f8a43cbefbe22d5ae4b92441f8915881560271ee31379d365da38f1a5fa1414d6ad71943a083cce0ee45d47f81ff3c9d"},{"satotxApiPrefix":"https://satotx3.showpay.top","satotxPubKey":"8e37df222f9af47980ad72d31b2619b49460c7be3a4c1034c0e7f43146d80058e52bfc53b0608db5a9ec5cb832c326f785f5c4e4349cc9fd647839738f465573d1707ef84d14c41ad857a1a8e5a075ae953be4c52481ee3b8e85891613dcf99c1f7bf3a51cd67ed92f9b71d77b8517a57af5fb4e2bad7197031e00c1d8b85d0abc62fb98952d9ddfb43b47c01590ef0a365aed89b179505ccfd1d70effe4d375d5e774578434f8f9bb2281100b6e1daf8df4a40af35853c91aee2dc7f578034fa534586985e4df30b7a85efab943f68f01b46f72ced16655ac4f7e7f0439e0e6b43803dc7e262512c57ef862d41b98344ea6e725683846d91209ad87097cb4ae7092cc2c4ebd39383905e61eeaae495d8b3a57f9da8cca760b9546635cef2a8728c4209891ad1e5cbeb75d2b798f0dabd1eceaf4b297186fd2a45ed58fbaed886a4dc2f8690c9070061b9481e446319b7f0a54f9d94e7505e87e3d81bcd664ecc29acc2942361e60b30fa965cdc88185163c2857644d837c9d839bb9f6b8e6dd"},{"satotxApiPrefix":"https://s1.satoplay.com","satotxPubKey":"2c8c0117aa5edba9a4539e783b6a1bdbc1ad88ad5b57f3d9c5cba55001c45e1fedb877ebc7d49d1cfa8aa938ccb303c3a37732eb0296fee4a6642b0ff1976817b603404f64c41ec098f8cd908caf64b4a3aada220ff61e252ef6d775079b69451367eda8fdb37bc55c8bfd69610e1f31b9d421ff44e3a0cfa7b11f334374827256a0b91ce80c45ffb798798e7bd6b110134e1a3c3fa89855a19829aab3922f55da92000495737e99e0094e6c4dbcc4e8d8de5459355c21ff055d039a202076e4ca263b745a885ef292eec0b5a5255e6ecc45534897d9572c3ebe97d36626c7b1e775159e00b17d03bc6d127260e13a252afd89bab72e8daf893075f18c1840cb394f18a9817913a9462c6ffc8951bee50a05f38da4c9090a4d6868cb8c955e5efb4f3be4e7cf0be1c399d78a6f6dd26a0af8492dca67843c6da9915bae571aa9f4696418ab1520dd50dd05f5c0c7a51d2843bd4d9b6b3b79910e98f3d98099fd86d71b2fac290e32bdacb31943a8384a7668c32a66be127b74390b4b0dec6455"},{"satotxApiPrefix":"https://satotx.metasv.com","satotxPubKey":"19d9193ee2e95d09445d28408e8a3da730b2d557cd8d39a7ae4ebbfbceb17ed5d745623529ad33d043511f3e205c1f92b6322833424d19823c3b611b3adabb74e1006e0e93a8f1e0b97ab801c6060a4c060f775998d9f003568ab4ea7633a0395eb761c36106e229394f2c271b8522a44a5ae759254f5d22927923ba85b3729460ecccca07a5556299aa7f2518814c74a2a4d48b48013d609002631f2d93c906d07077ef58d473e3d971362d1129c1ab9b8f9b1365519f0c023c1cadad5ab57240d19e256e08022fd0708951ff90a8af0655aff806c6382d0a72c13f1e52b88222d7dfc6357179b06ffcf937f9da3b0419908aa589a731e26bbaba2fa0b754bf722e338c5627b11dc24aadc4d83c35851c034936cf0df18167e856a5f0a7121d23cd48b3f8a420869a37bd1362905d7f76ff18a991f75a0f9d1bcfc18416d76691cc357cbdcc8cc0df9dbd9318a40e08adb2fb4e78b3c47bdf07eeed4f3f4e0f7e81e37460a09b857e0194c72ec03bb564b5b409d8a1b84c153186ecbb4cfdfd"}]},{"codehash":"777e4dd291059c9f7a0fd563f7204576dcceb791","genesis":"8764ede9fa7bf81ba1eec5e1312cf67117d47930","name":"mc-lp","satotxList":[{"satotxApiPrefix":"https://satotx.showpay.top","satotxPubKey":"5b94858991d384c61ffd97174e895fcd4f62e4fea618916dc095fe4c149bbdf1188c9b33bc15cbe963a63b2522e70b80a5b722ac0e6180407917403755df4de27d69cc115c683a99face8c823cbccf73c7f0d546f1300b9ee2e96aea85542527f33b649f1885caebe19cf75d9a645807f03565c65bd4c99c8f6bb000644cfb56969eac3e9331c254b08aa279ceb64c47ef66be3f071e28b3a5a21e48cdfc3335d8b52e80a09a104a791ace6a2c1b4da88c52f9cc28c54a324e126ec91a988c1fe4e21afc8a84d0e876e01502386f74e7fc24fc32aa249075dd222361aea119d4824db2a797d58886e93bdd60556e504bb190b76a451a4e7b0431973c0410e71e808d0962415503931bbde3dfce5186b371c5bf729861f239ef626b7217d071dfd62bac877a847f2ac2dca07597a0bb9dc1969bed40606c025c4ff7b53a4a6bd921642199c16ede8165ed28da161739fa8d33f9f483212759498c1219d246092d14c9ae63808f58f03c8ca746904ba51fa326d793cea80cda411c85d35894bdb5"},{"satotxApiPrefix":"https://satotx2.showpay.top","satotxPubKey":"09539fcf01e83c7c649164ddd0dd42463ef10a98c665cd0d9f791446a3c4c2dd3916f6e76075b36a06f40731821f6b7dbb8bea8effa4ea461fecce4b6b2d45ca4dd923028fd6dc6ce49512616ca55f01162e5d2f85faa22ec40bc35d4978204a9b07a53f04297b886fa4abb095034f106f8ff0fd172e1e96bf7198cd5b9944ec1af32328a156877769ecabd41489a7ac858fd35cd8d93e68f33053077cf50bb397b66d160598963d1b663b3bce6371877df0e33866e4d9557b0bde7a2a930c274fa9e697d9f17ad88528ecab1be32a9d518bb950fc8264f2056d4f395fcdc12dd59cb8945013105ed52433326e3fa067237f17ab62e65557c7538e634daf11288b7eaab537abf2cc2a90159632fb9bb8fac01085b70024e01e42cd431db70d004963e46da8733c18fd5ffaaecfd67c860ae37441271ba545f86cae72690a5a3261e0125a2bf069fe28a1e1431b4cac29f8a43cbefbe22d5ae4b92441f8915881560271ee31379d365da38f1a5fa1414d6ad71943a083cce0ee45d47f81ff3c9d"},{"satotxApiPrefix":"https://satotx3.showpay.top","satotxPubKey":"8e37df222f9af47980ad72d31b2619b49460c7be3a4c1034c0e7f43146d80058e52bfc53b0608db5a9ec5cb832c326f785f5c4e4349cc9fd647839738f465573d1707ef84d14c41ad857a1a8e5a075ae953be4c52481ee3b8e85891613dcf99c1f7bf3a51cd67ed92f9b71d77b8517a57af5fb4e2bad7197031e00c1d8b85d0abc62fb98952d9ddfb43b47c01590ef0a365aed89b179505ccfd1d70effe4d375d5e774578434f8f9bb2281100b6e1daf8df4a40af35853c91aee2dc7f578034fa534586985e4df30b7a85efab943f68f01b46f72ced16655ac4f7e7f0439e0e6b43803dc7e262512c57ef862d41b98344ea6e725683846d91209ad87097cb4ae7092cc2c4ebd39383905e61eeaae495d8b3a57f9da8cca760b9546635cef2a8728c4209891ad1e5cbeb75d2b798f0dabd1eceaf4b297186fd2a45ed58fbaed886a4dc2f8690c9070061b9481e446319b7f0a54f9d94e7505e87e3d81bcd664ecc29acc2942361e60b30fa965cdc88185163c2857644d837c9d839bb9f6b8e6dd"},{"satotxApiPrefix":"https://s1.satoplay.com","satotxPubKey":"2c8c0117aa5edba9a4539e783b6a1bdbc1ad88ad5b57f3d9c5cba55001c45e1fedb877ebc7d49d1cfa8aa938ccb303c3a37732eb0296fee4a6642b0ff1976817b603404f64c41ec098f8cd908caf64b4a3aada220ff61e252ef6d775079b69451367eda8fdb37bc55c8bfd69610e1f31b9d421ff44e3a0cfa7b11f334374827256a0b91ce80c45ffb798798e7bd6b110134e1a3c3fa89855a19829aab3922f55da92000495737e99e0094e6c4dbcc4e8d8de5459355c21ff055d039a202076e4ca263b745a885ef292eec0b5a5255e6ecc45534897d9572c3ebe97d36626c7b1e775159e00b17d03bc6d127260e13a252afd89bab72e8daf893075f18c1840cb394f18a9817913a9462c6ffc8951bee50a05f38da4c9090a4d6868cb8c955e5efb4f3be4e7cf0be1c399d78a6f6dd26a0af8492dca67843c6da9915bae571aa9f4696418ab1520dd50dd05f5c0c7a51d2843bd4d9b6b3b79910e98f3d98099fd86d71b2fac290e32bdacb31943a8384a7668c32a66be127b74390b4b0dec6455"},{"satotxApiPrefix":"https://satotx.metasv.com","satotxPubKey":"19d9193ee2e95d09445d28408e8a3da730b2d557cd8d39a7ae4ebbfbceb17ed5d745623529ad33d043511f3e205c1f92b6322833424d19823c3b611b3adabb74e1006e0e93a8f1e0b97ab801c6060a4c060f775998d9f003568ab4ea7633a0395eb761c36106e229394f2c271b8522a44a5ae759254f5d22927923ba85b3729460ecccca07a5556299aa7f2518814c74a2a4d48b48013d609002631f2d93c906d07077ef58d473e3d971362d1129c1ab9b8f9b1365519f0c023c1cadad5ab57240d19e256e08022fd0708951ff90a8af0655aff806c6382d0a72c13f1e52b88222d7dfc6357179b06ffcf937f9da3b0419908aa589a731e26bbaba2fa0b754bf722e338c5627b11dc24aadc4d83c35851c034936cf0df18167e856a5f0a7121d23cd48b3f8a420869a37bd1362905d7f76ff18a991f75a0f9d1bcfc18416d76691cc357cbdcc8cc0df9dbd9318a40e08adb2fb4e78b3c47bdf07eeed4f3f4e0f7e81e37460a09b857e0194c72ec03bb564b5b409d8a1b84c153186ecbb4cfdfd"}]}]')},383:function(e,a,t){},401:function(e,a){},407:function(e,a){},408:function(e,a){},429:function(e,a){},431:function(e,a){},441:function(e,a){},443:function(e,a){},474:function(e,a){},476:function(e,a){},483:function(e,a){},484:function(e,a){},591:function(e,a,t){},666:function(e,a,t){"use strict";t.r(a);var c=t(0),n=t.n(c),r=t(52),s=t.n(r),d=(t(383),t(3)),b=t(9),f=t(19),o=t(4),i=t(152),u=t(679),l=t(109),p=t(678),h=t(676),j=t(675),x=t(673),v=t(671),m=t(672),O=t(674),g=t(246),w=t(680),k=t(677),y=t(681),S=t(682),T=t(371),I=t(683),P=t(370),A=t(356),K=t(25),C=t(30),F=t(190),N=t(360),B=Object(N.a)({account:null,key:null,mvcBalance:null,sensibleFtList:[]}),L=B.useGlobalState,E=B.getGlobalState,_=B.setGlobalState,z="accountStorageKey";function H(e){var a=e?JSON.stringify(e):"";localStorage.setItem(z,a)}function q(){var e=localStorage.getItem(z);return e?JSON.parse(e):null}var R=0,M=0;function D(){return W.apply(this,arguments)}function W(){return W=Object(f.a)(Object(b.a)().mark((function e(){var a;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return clearInterval(R),a=function(){var e=Object(f.a)(Object(b.a)().mark((function e(){var a,t,c;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=E("account"),t=E("key"),a&&t){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,e.next=7,Object(C.d)(a.network,t.address);case 7:c=e.sent,_("mvcBalance",{balance:c}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),console.log("getAddressMvcBalance err",a.network,t.address,e.t0);case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(){return e.apply(this,arguments)}}(),e.next=4,a();case 4:R=window.setInterval(a,5e3);case 5:case"end":return e.stop()}}),e)}))),W.apply(this,arguments)}function J(){return G.apply(this,arguments)}function G(){return G=Object(f.a)(Object(b.a)().mark((function e(){var a;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return clearInterval(M),a=function(){var e=Object(f.a)(Object(b.a)().mark((function e(){var a,t,c,n;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=E("account"),t=E("key"),a&&t){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,e.next=7,Object(C.f)(a.network,t.address);case 7:c=e.sent,n=c.filter((function(e){return e.codehash,!0})),_("sensibleFtList",n),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),console.log("getAddressSensibleFtList err",a.network,t.address,e.t0);case 15:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(){return e.apply(this,arguments)}}(),e.next=4,a();case 4:M=window.setInterval(a,5e3);case 5:case"end":return e.stop()}}),e)}))),G.apply(this,arguments)}function V(e){return U.apply(this,arguments)}function U(){return(U=Object(f.a)(Object(b.a)().mark((function e(a){var t;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(H(a),!a){e.next=10;break}return t=Object(C.c)(a.email,a.password,a.network),_("account",a),_("key",t),e.next=7,J();case 7:D(),e.next=12;break;case 10:_("account",null),_("key",null);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Y=function(e){return new Promise((function(a){return setTimeout(a,e)}))};function Z(){return Z=Object(f.a)(Object(b.a)().mark((function e(){var a,t,c,n,r,s,o,i,u,l,p,h,j;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window!==window.top){e.next=2;break}return e.abrupt("return");case 2:a=JSON.parse(decodeURIComponent(window.location.hash.substr(1))),t=F(window.top,"*"),c=a.id,n=null,r=null,s=[],o=null,t.emit(c,{type:"ready"}),i=function(e,a){return!e&&!a||(null===e||void 0===e?void 0:e.balance)===(null===a||void 0===a?void 0:a.balance)},u=function(e,a){if(e.length!==a.length)return!1;e.sort((function(e,a){return e.genesis.localeCompare(a.genesis)})),a.sort((function(e,a){return e.genesis.localeCompare(a.genesis)}));for(var t=0;t<e.length;t++){var c=e[t],n=a[t];if(c.genesis!==n.genesis)return!1;if(c.balance!==n.balance)return!1}return!0},l=function(e,a){return(null===e||void 0===e?void 0:e.email)===(null===a||void 0===a?void 0:a.email)&&(null===e||void 0===e?void 0:e.network)===(null===a||void 0===a?void 0:a.network)&&(null===e||void 0===e?void 0:e.password)===(null===a||void 0===a?void 0:a.password)},p=function(){var e=Object(f.a)(Object(b.a)().mark((function e(){var a,d,f,p,h;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=q(),l(a,n)||t.emit(c,{type:"account",data:a}),!(n=a)){e.next=30;break}return o=Object(C.c)(n.email,n.password,n.network),e.prev=5,e.next=8,Object(C.e)(n.network,o.address);case 8:d=e.sent,f=i(r,{balance:d}),r={balance:d},f||t.emit(c,{type:"mvcBalance",data:r}),e.next=16;break;case 14:e.prev=14,e.t0=e.catch(5);case 16:return e.prev=16,e.next=19,Object(C.f)(n.network,o.address);case 19:p=e.sent,h=u(s,p),s=p,h||t.emit(c,{type:"sensibleFtBalance",data:s}),e.next=27;break;case 25:e.prev=25,e.t1=e.catch(16);case 27:return e.abrupt("return",!0);case 30:return e.abrupt("return",!1);case 31:case"end":return e.stop()}}),e,null,[[5,14],[16,25]])})));return function(){return e.apply(this,arguments)}}(),h=function(e,a){t.on(c,function(){var n=Object(f.a)(Object(b.a)().mark((function n(r,s){var d,f,o,i;return Object(b.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(d=s.type,f=s.data,"request"!==d||(null===f||void 0===f?void 0:f.method)!==e){n.next=13;break}return o=f.requestId,n.prev=3,n.next=6,a(f.params);case 6:i=n.sent,t.emit(c,{type:"response",data:{requestId:o,method:e,response:i}}),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(3),t.emit(c,{type:"response",data:{requestId:o,method:e,error:n.t0.toString()}});case 13:case"end":return n.stop()}}),n,null,[[3,10]])})));return function(e,a){return n.apply(this,arguments)}}())},h("getAccount",Object(f.a)(Object(b.a)().mark((function e(){return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p();case 2:if(n){e.next=4;break}return e.abrupt("return",null);case 4:return e.abrupt("return",{name:n.email,email:n.email,network:n.network});case 5:case"end":return e.stop()}}),e)})))),h("getMvcBalance",Object(f.a)(Object(b.a)().mark((function e(){return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p();case 2:return e.abrupt("return",r);case 3:case"end":return e.stop()}}),e)})))),h("getSensibleFtBalance",Object(f.a)(Object(b.a)().mark((function e(){return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p();case 2:return e.abrupt("return",s);case 3:case"end":return e.stop()}}),e)})))),h("getAddress",Object(f.a)(Object(b.a)().mark((function e(){return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p();case 2:if(o){e.next=4;break}return e.abrupt("return",null);case 4:return e.abrupt("return",o.address);case 5:case"end":return e.stop()}}),e)})))),h("signTx",function(){var e=Object(f.a)(Object(b.a)().mark((function e(a){var t,c,r;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.address,o){e.next=3;break}throw new Error("not_login");case 3:if(r===o.address){e.next=5;break}throw new Error("not_my_address");case 5:return e.abrupt("return",Object(C.l)(Object(d.a)(Object(d.a)({},a),{},{privateKey:new K.mvc.PrivateKey(o.privateKey,null===(t=n)||void 0===t?void 0:t.network),publicKey:new K.mvc.PublicKey(o.publicKey,null===(c=n)||void 0===c?void 0:c.network)})));case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()),h("logout",Object(f.a)(Object(b.a)().mark((function e(){return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:H(null);case 1:case"end":return e.stop()}}),e)})))),h("ping",(function(){return null}));case 22:return e.next=24,p();case 24:return j=e.sent,e.next=27,Y(j?3e3:500);case 27:e.next=22;break;case 29:case"end":return e.stop()}}),e)}))),Z.apply(this,arguments)}function Q(e){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=Object(c.useRef)(!1);Object(c.useEffect)((function(){a&&!t.current&&(t.current=!0,e())}),[e,a])}t(591);var X=t(14),$=t(667),ee=t(90),ae=t.n(ee),te=t(6),ce=i.a.Option;function ne(){var e=L("account"),a=Object(o.a)(e,1)[0],t=L("key"),n=Object(o.a)(t,1)[0],r=Object(c.useState)(!1),s=Object(o.a)(r,2),d=s[0],b=s[1],f=Object(c.useState)(""),j=Object(o.a)(f,2),x=j[0],v=j[1],m=Object(c.useState)(""),O=Object(o.a)(m,2),g=O[0],w=O[1],k=Object(c.useState)(!1),y=Object(o.a)(k,2),S=y[0],T=y[1];return Object(te.jsxs)("div",{className:"header",children:[Object(te.jsx)("div",{className:"logo",children:"Web Wallet"}),a&&Object(te.jsx)(u.a,{title:"",content:Object(te.jsxs)(te.Fragment,{children:[Object(te.jsx)(l.a,{type:"link",onClick:function(){V(null)},children:"Logout"}),Object(te.jsx)("br",{}),Object(te.jsx)(l.a,{type:"link",onClick:function(){var e=Object(C.h)(a.network,n.address);window.open(e)},children:"History"}),Object(te.jsx)("br",{}),Object(te.jsx)(l.a,{type:"link",onClick:function(){window.open("https://github.com/mvc-swap/web-wallet")},children:"Source Code"}),Object(te.jsx)("br",{}),Object(te.jsx)(l.a,{type:"link",onClick:function(){return b(!0)},children:"decode rawtx"})]}),children:Object(te.jsx)(l.a,{type:"link",children:a.email})}),Object(te.jsxs)(p.a,{visible:d,onCancel:function(){return b(!1)},children:[Object(te.jsx)(h.a.TextArea,{rows:4,value:x,onChange:function(e){return v(e.target.value)}}),Object(te.jsxs)(i.a,{style:{width:180},placeholder:"Select network",value:g,onChange:function(e){return w(e)},children:[Object(te.jsx)(ce,{value:"mainnet",children:"mainnet"}),Object(te.jsx)(ce,{value:"testnet",children:"testnet"})]}),Object(te.jsx)(l.a,{type:"primary",onClick:function(){var e=Object(C.k)(g,x);console.log("decodeTx res",e)},children:"decode"})]}),Object(te.jsx)(p.a,{visible:S,onCancel:function(){return T(!1)}})]})}function re(){var e=L("account"),a=Object(o.a)(e,1)[0],t=j.a.useForm(),c=Object(o.a)(t,1)[0];return a?null:Object(te.jsx)(x.a,{className:"card",title:"Login",bordered:!1,children:Object(te.jsxs)(j.a,{form:c,layout:"vertical",onFinish:function(){p.a.confirm({title:"Attention",content:Object(te.jsxs)("div",{children:["The private key of the web wallet is calculated in real-time through the user's email address and password, and will not be uploaded to the server or stored locally (see\xa0",Object(te.jsx)("a",{href:"https://github.com/mvc-swap/web-wallet",target:"_blank",rel:"noreferrer",children:"github"}),"\xa0for the code). It is only for the convenience of user testing and is not suitable for depositing a large number of funds. It is recommended that users keep the email + password combination properly to prevent the loss of funds or transfer the remaining funds after use. Loss of mailbox + password combination (forgotten, stolen, etc.) will lead to asset loss."]}),onOk:function(){V(c.getFieldsValue())}})},children:[Object(te.jsx)(j.a.Item,{name:"email",rules:[{type:"email",required:!0,message:"Please input a valid Email!"}],children:Object(te.jsx)(h.a,{prefix:Object(te.jsx)(y.a,{className:"site-form-item-icon"}),placeholder:"Email"})}),Object(te.jsx)(j.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"},{min:6,message:"Password at least 6 chars",transform:function(e){return e&&e.trim()}}],children:Object(te.jsx)(h.a.Password,{prefix:Object(te.jsx)(S.a,{className:"site-form-item-icon"}),type:"password",visibilityToggle:!0,placeholder:"Password"})}),Object(te.jsx)(j.a.Item,{name:"network",label:"Network",rules:[{required:!0}],children:Object(te.jsxs)(i.a,{placeholder:"Select network",children:[Object(te.jsx)(ce,{value:"mainnet",children:"mainnet"}),Object(te.jsx)(ce,{value:"testnet",children:"testnet"})]})}),Object(te.jsx)(j.a.Item,{children:"Note: The private key of the web wallet is calculated in real time through the user's email address and password (no registration required), and the same private key can be calculated every time you enter the same email address and password to log in. The private key will not be uploaded to the server, nor will it Saved locally, it is only for the convenience of users for testing, and is not suitable for storing large amounts of funds. It is recommended that users keep the email + password combination properly to prevent loss of funds."}),Object(te.jsx)(j.a.Item,{children:Object(te.jsx)(l.a,{type:"primary",htmlType:"submit",className:"login-form-button",children:"Log in"})})]})})}function se(e){var a=e.onWithDraw,t=e.onTransfer,c=L("key"),n=Object(o.a)(c,1)[0],r=L("account"),s=Object(o.a)(r,1)[0],d=L("mvcBalance"),b=Object(o.a)(d,1)[0],f=L("sensibleFtList"),i=Object(o.a)(f,1)[0];if(!n||!s)return null;var p=function(e){return t(e||"")};return[Object(te.jsx)(x.a,{className:"card",title:"Account Info",bordered:!1,actions:Object(te.jsxs)(te.Fragment,{children:[Object(te.jsx)(l.a,{type:"link",onClick:function(){var e=Object(C.h)(s.network,n.address);window.open(e)},children:"history"}),",",Object(te.jsx)(l.a,{type:"link",onClick:a,children:"withdraw"}),","]}),children:Object(te.jsxs)(j.a,{layout:"vertical",children:[Object(te.jsxs)(j.a.Item,{label:"".concat(s.network," address"),children:[Object(te.jsx)(h.a,{value:n.address}),Object(te.jsx)("div",{style:{margin:20},children:Object(te.jsx)(A,{value:n.address})})]}),Object(te.jsx)(j.a.Item,{label:"privateKey",children:Object(te.jsx)(h.a.Password,{visibilityToggle:!0,value:n.privateKey})})]})}),Object(te.jsx)(x.a,{className:"card",title:"Asset",bordered:!1,children:Object(te.jsxs)(j.a,{layout:"vertical",children:[b&&Object(te.jsx)(j.a.Item,{label:"SPACE balance",children:Object(te.jsxs)(v.a,{justify:"space-between",children:[Object(te.jsx)(m.a,{span:16,children:Object(te.jsx)("div",{children:Object(C.b)(b.balance,8)})}),Object(te.jsx)(m.a,{span:7,children:Object(te.jsx)(l.a,{type:"link",onClick:function(){return p("")},children:"Transfer SPACE"})})]})}),i.length>0&&Object(te.jsx)(j.a.Item,{label:"Fungible Token",children:Object(te.jsx)(O.b,{itemLayout:"horizontal",dataSource:i,renderItem:function(e){return Object(te.jsxs)(O.b.Item,{actions:Object(te.jsx)(te.Fragment,{children:Object(te.jsx)(u.a,{placement:"topRight",content:Object(te.jsxs)(te.Fragment,{children:[Object(te.jsxs)("div",{children:["codehash: ",e.codehash]}),",",Object(te.jsxs)("div",{children:["genesis: ",e.genesis]}),","]}),children:Object(te.jsx)("a",{href:Object(C.g)(s.network,n.address,e.genesis,e.codehash),rel:"noreferrer",target:"_blank",children:"more info"},"list-loadmore-more")})}),children:[Object(te.jsx)(O.b.Item.Meta,{title:e.tokenSymbol,description:e.tokenName}),Object(te.jsxs)(v.a,{children:[Object(te.jsx)(m.a,{children:Object(te.jsxs)("div",{style:{height:"100%",display:"flex",alignItems:"center"},children:["Balance:"," ",Object(C.b)(e.balance,e.tokenDecimal)]})}),Object(te.jsx)(m.a,{children:Object(te.jsx)(l.a,{type:"link",onClick:function(){return p(e.genesis)},children:"Go Transfer"})})]})]},e.genesis)}})})]})})]}function de(e){return ae.a.get(e)}function be(){return fe.apply(this,arguments)}function fe(){return fe=Object(f.a)(Object(b.a)().mark((function e(){var a,t,c,n=arguments;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.length>0&&void 0!==n[0]?n[0]:[],t=[],c=[],a.forEach((function(e){t.push(de(e))})),e.abrupt("return",new Promise((function(e){ae.a.all(t).then((function(t){t.forEach((function(e,t){c.push({satotxApiPrefix:a[t],satotxPubKey:e.data.data.pubKey})})),e(c)}))})));case 4:case"end":return e.stop()}}),e)}))),fe.apply(this,arguments)}function oe(e){var a=e.initDatas,t=void 0===a?[]:a,n=e.onCancel,r=e.onTransferCallback,s=L("key"),i=Object(o.a)(s,1)[0],u=L("mvcBalance"),O=Object(o.a)(u,1)[0],y=L("account"),S=Object(o.a)(y,1)[0],A=L("sensibleFtList"),F=Object(o.a)(A,1)[0],N=j.a.useForm(),B=Object(o.a)(N,1)[0],E=Object(c.useState)(!1),_=Object(o.a)(E,2),z=_[0],H=_[1];if(Q((function(){var e={};t.forEach((function(a,t){var c=!a.genesis,n=F.find((function(e){return e.genesis===a.genesis})),r=c?8:n.tokenDecimal;e["receiverList".concat(t)]=a.receivers.map((function(e){return{address:e.address,amount:X.b(e.amount,X.c(r))}}))})),B.setFieldsValue(e)}),i&&O),!i)return null;if(!O)return null;var q=function(){var e=Object(f.a)(Object(b.a)().mark((function e(){var a,c,n,s;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=B.getFieldsValue(),c=function(){var e=Object(f.a)(Object(b.a)().mark((function e(a){var t,c,n,s,d,f,o;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.formatReceiverList,c=a.noBroadcast,H(!0),s="",e.prev=3,!0!==c){e.next=12;break}return!0,e.next=8,Object(C.m)(S.network,i.privateKey,t,c,true);case 8:return e.next=10,e.sent;case 10:return d=e.sent,e.abrupt("return",d);case 12:return e.next=14,Object(C.m)(S.network,i.privateKey,t);case 14:return e.next=16,e.sent;case 16:f=e.sent,n=f,s=f.txid,e.next=30;break;case 21:e.prev=21,e.t0=e.catch(3),o="broadcast error: "+e.t0.toString(),$.a(e.t0),$.b("mvcTransferFail_".concat(i.address)),r({error:o}),console.log("broadcast mvc error "),console.error(e.t0),g.b.error(e.t0.toString());case 30:return $.b("mvcTransferSuccess_".concat(i.address,"_").concat(s)),e.abrupt("return",n);case 32:case"end":return e.stop()}}),e,null,[[3,21]])})));return function(a){return e.apply(this,arguments)}}(),n=function(){var e=Object(f.a)(Object(b.a)().mark((function e(a){var t,c,n,s,d,f,o,u;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.formatReceiverList,c=a.token,a.decimal,a.genesis,n=a.rabinApis,s=a.utxos,d=a.noBroadcast,H(!0),e.prev=2,e.next=5,be(n);case 5:return o=e.sent,e.next=8,Object(C.n)(S.network,o,i.privateKey,t,c.codehash,c.genesis,s,d||!1);case 8:u=e.sent,f=u,e.next=20;break;case 12:e.prev=12,e.t0=e.catch(2),$.a(e.t0),$.b("ftTransferFail_".concat(i.address,"_").concat(c.genesis,"_").concat(c.genesis)),r({error:"broadcast sensible ft error, "+e.t0.toString()}),console.log("broadcast sensible ft error "),console.error(e.t0),g.b.error(e.t0.toString());case 20:return e.abrupt("return",f);case 21:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(a){return e.apply(this,arguments)}}(),s=function(){var e=Object(f.a)(Object(b.a)().mark((function e(){var s,f,o,u,l,p,h,j,x,v;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=[],f=[],o=[],u=Object(b.a)().mark((function e(d){var f,u,l,p,h,j,x,v,m,w,k,y,T,I,P,A,C,N,B;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f=t[d],u=!f.genesis,l=F.find((function(e){return e.genesis===f.genesis})),p=u?8:l.tokenDecimal,h=u?O.balance:l.balance,j=f.rabinApis,x=a["receiverList".concat(d)].reduce((function(e,a){return X.j(e,a.amount)}),0),v=X.i(x,X.c(p)),!X.f(h,v)){e.next=12;break}return r({error:m="Insufficient ft balance"}),e.abrupt("return",{v:g.b.error(m)});case 12:if(w=f.receivers.map((function(e){return{address:e.address,amount:e.amount}})),!u){e.next=28;break}return e.next=16,c({formatReceiverList:w,noBroadcast:!0});case 16:if(k=e.sent,1===(y=k.outputs.length-1)){e.next=22;break}return r({error:T="Insufficient ft balance"}),e.abrupt("return",{v:g.b.error(T)});case 22:I=k.outputs[y],s.push({tx:k,isMvc:!0,noBroadcast:!!f.noBroadcast}),(o=[]).push({txId:k.id,outputIndex:y,satoshis:I.satoshis,wif:i.privateKey,address:new K.mvc.PrivateKey(i.privateKey,S.network).toAddress(S.network)}),e.next=38;break;case 28:return e.next=30,n({formatReceiverList:w,token:l,decimal:p,genesis:f.genesis,rabinApis:j,utxos:o,noBroadcast:!0});case 30:P=e.sent,A=P.routeCheckTx,C=P.tx,s.push({tx:C,routeCheckTx:A,isMvc:!1,noBroadcast:!!f.noBroadcast}),N=C.outputs.length-1,B=C.outputs[N],(o=[]).push({txId:C.id,outputIndex:N,satoshis:B.satoshis,wif:i.privateKey,address:new K.mvc.PrivateKey(i.privateKey,S.network).toAddress(S.network)});case 38:case"end":return e.stop()}}),e)})),l=0;case 5:if(!(l<t.length)){e.next=13;break}return e.delegateYield(u(l),"t0",7);case 7:if("object"!==typeof(p=e.t0)){e.next=10;break}return e.abrupt("return",p.v);case 10:l++,e.next=5;break;case 13:h=0,j=s;case 14:if(!(h<j.length)){e.next=29;break}if((x=j[h]).noBroadcast){e.next=23;break}if(!x.routeCheckTx){e.next=20;break}return e.next=20,Object(C.a)(S.network,x.routeCheckTx.serialize(!0));case 20:if(!x.tx){e.next=23;break}return e.next=23,Object(C.a)(S.network,x.tx.serialize(!0));case 23:(v={txid:x.tx.hash,outputs:Object(C.k)(S.network,x.tx.serialize(!0)).outputs,fee:x.tx.getFee(),isMvc:x.isMvc,txHex:x.tx.serialize(!0)}).isMvc||(v.routeCheckTxid=x.routeCheckTx.hash,v.routeCheckTxHex=x.routeCheckTx.serialize(!0),v.routeCheckOutputs=Object(C.k)(S.network,x.routeCheckTx.serialize(!0)).outputs),f.push(v);case 26:h++,e.next=14;break;case 29:H(!1),r({response:Object(d.a)({},f)});case 31:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),function(){var e=Object(f.a)(Object(b.a)().mark((function e(){var s,d,f,o,u;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s={},d=[],f=Object(b.a)().mark((function e(f){var o,u,l,p,h,j,x,v,m,w,k,y,T,I,P,A,C,N,B;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t[f],u=!o.genesis,l=F.find((function(e){return e.genesis===o.genesis})),p=u?8:l.tokenDecimal,h=u?O.balance:l.balance,j=o.rabinApis,x=a["receiverList".concat(f)].reduce((function(e,a){return X.j(e,a.amount)}),0),v=X.i(x,X.c(p)),!X.f(h,v)){e.next=12;break}return r({error:m="Insufficient ft balance"}),e.abrupt("return",{v:g.b.error(m)});case 12:if(w=o.receivers.map((function(e){return{address:e.address,amount:e.amount}})),!u){e.next=28;break}return e.next=16,c({formatReceiverList:w,noBroadcast:!0});case 16:if(k=e.sent,1===(y=k.outputs.length-1)){e.next=22;break}return r({error:T="Insufficient ft balance"}),e.abrupt("return",{v:g.b.error(T)});case 22:I=k.outputs[y],s.mvcRawTx=k.toString(),(d=[]).push({txId:k.id,outputIndex:y,satoshis:I.satoshis,wif:i.privateKey,address:new K.mvc.PrivateKey(i.privateKey,S.network).toAddress(S.network)}),e.next=39;break;case 28:return e.next=30,n({formatReceiverList:w,token:l,decimal:p,genesis:o.genesis,rabinApis:j,utxos:d,noBroadcast:!0});case 30:P=e.sent,A=P.amountCheckTx,C=P.tx,s.amountCheckRawTx=A.toString(),s.tokenRawTx=C.toString(),N=C.outputs.length-1,B=C.outputs[N],(d=[]).push({txId:C.id,outputIndex:N,satoshis:B.satoshis,wif:i.privateKey,address:new K.mvc.PrivateKey(i.privateKey,S.network).toAddress(S.network)});case 39:case"end":return e.stop()}}),e)})),o=0;case 4:if(!(o<t.length)){e.next=12;break}return e.delegateYield(f(o),"t0",6);case 6:if("object"!==typeof(u=e.t0)){e.next=9;break}return e.abrupt("return",u.v);case 9:o++,e.next=4;break;case 12:H(!1),r({response:s});case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p.a.confirm({title:"Confirm the transaction",onOk:function(){s()}});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(te.jsx)(x.a,{className:"card",title:Object(te.jsxs)("div",{style:{cursor:"pointer"},onClick:function(){n()},children:[Object(te.jsx)(T.a,{}),"Transfer"]}),loading:z,bordered:!1,children:Object(te.jsxs)(j.a,{form:B,layout:"vertical",onFinish:q,children:[t.map((function(e,a){var t=!e.genesis,c=F.find((function(a){return a.genesis===e.genesis}));if(!t&&!c)return null;var n=t?"SPACE":c.tokenSymbol,r=t?8:c.tokenDecimal,s=t?O.balance:c.balance,b=Object(C.b)(s,r),f=!(e.receivers.length>0);return Object(te.jsxs)("div",{children:[Object(te.jsx)("div",{className:"transfer-line",children:t?"Coin: ".concat(n):"Token: ".concat(n)}),!t&&Object(te.jsxs)("div",{className:"transfer-line",children:["Genesis: ",c.genesis]}),!t&&Object(te.jsxs)("div",{className:"transfer-line",children:["Codehash: ",c.codehash]}),Object(te.jsx)(v.a,{justify:"space-between",style:{margin:"10px 0"},children:Object(te.jsx)(m.a,{span:14,children:Object(te.jsx)("div",{style:{fontWeight:700},children:"Input"})})}),Object(te.jsx)("div",{className:"transfer-line",children:"Balance: ".concat(b)}),Object(te.jsx)("div",{className:"transfer-line",children:"From Address: ".concat(i.address)}),Object(te.jsx)(v.a,{justify:"space-between",style:{margin:"10px 0"},children:Object(te.jsx)(m.a,{span:14,children:Object(te.jsx)("div",{style:{fontWeight:700},children:"Output"})})}),Object(te.jsx)(j.a.List,{name:"receiverList".concat(a),children:function(e,a){var t=a.add,c=a.remove;return Object(te.jsxs)(te.Fragment,{children:[e.map((function(e,a,t){for(var n=arguments.length,r=new Array(n>3?n-3:0),s=3;s<n;s++)r[s-3]=arguments[s];return Object(te.jsxs)(w.b,{style:{display:"flex",marginBottom:8},align:"baseline",children:[Object(te.jsx)(j.a.Item,Object(d.a)(Object(d.a)({},r),{},{name:[a,"address"],fieldKey:[t,"address"],rules:[{required:!0,message:"Please input the address"},{message:"invalid address",validator:function(e,a){return Object(C.j)(S.network,a)?Promise.resolve():Promise.reject()}}],children:Object(te.jsx)(h.a,{placeholder:"Input the address",disabled:!f})})),Object(te.jsx)(j.a.Item,Object(d.a)(Object(d.a)({},r),{},{name:[a,"amount"],fieldKey:[t,"amount"],rules:[{required:!0,message:"Please input amount"}],children:Object(te.jsx)(k.a,{placeholder:"Amount",min:0,disabled:!f})})),Object(te.jsx)(l.a,{disabled:!f,size:"small",onClick:function(){return c(a)},shape:"circle",icon:Object(te.jsx)(I.a,{})})]},e.fieldKey)})),Object(te.jsx)(j.a.Item,{children:Object(te.jsx)(l.a,{type:"dashed",onClick:function(){return t()},icon:Object(te.jsx)(P.a,{}),disabled:!f,children:"Add Output"})})]})}})]},a)})),Object(te.jsx)(j.a.Item,{children:Object(te.jsx)(l.a,{type:"primary",htmlType:"submit",block:!0,children:"Transfer"})})]})})}function ie(e){var a=e.genesis,t=void 0===a?"":a,n=e.initReceivers,r=void 0===n?[]:n,s=e.rabinApis,i=void 0===s?[]:s,u=e.onCancel,O=e.onTransferCallback,y=e.noBroadcast,S=L("key"),A=Object(o.a)(S,1)[0],K=L("mvcBalance"),F=Object(o.a)(K,1)[0],N=L("account"),B=Object(o.a)(N,1)[0],E=L("sensibleFtList"),_=Object(o.a)(E,1)[0],z=j.a.useForm(),H=Object(o.a)(z,1)[0],q=Object(c.useState)(!1),R=Object(o.a)(q,2),M=R[0],D=R[1],W=!(r.length>0);if(Q((function(){var e=""===t,a=_.find((function(e){return e.genesis===t})),c=e?8:a.tokenDecimal;console.log("initReceivers",r,r.map((function(e){return{address:e.address,amount:X.i(e.amount,X.c(c))}}))),H.setFieldsValue({receiverList:r.map((function(e){return{address:e.address,amount:X.b(e.amount,X.c(c))}}))})}),A&&F&&r.length),!A)return null;if(!F)return null;if(t&&!_.length)return null;var J=""===t,G=_.find((function(e){return e.genesis===t}));if(!J&&!G)return null;var V=J?"SPACE":G.tokenSymbol,U=J?8:G.tokenDecimal,Y=J?F.balance:G.balance,Z=Object(C.b)(Y,U),ee=function(){var e=Object(f.a)(Object(b.a)().mark((function e(){var a,t,c,n,r,s,o,u;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=H.getFieldsValue(),t=a.receiverList,c=t.reduce((function(e,a){return X.j(e,a.amount)}),0),n=X.i(c,X.c(U)),!X.f(Y,n)){e.next=7;break}return O({error:r="Insufficient ft balance"}),e.abrupt("return",g.b.error(r));case 7:s=t.map((function(e){return{address:e.address,amount:X.i(e.amount,X.c(U))}})),o=function(){var e=Object(f.a)(Object(b.a)().mark((function e(){var a,t,c,n;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D(!0),a="",e.prev=2,e.next=5,Object(C.m)(B.network,A.privateKey,s,y);case 5:c=e.sent,y?(t={txid:c.hash,txHex:c.serialize(!0),outputs:Object(C.k)(B.network,c.serialize(!0)).outputs,fee:c.getFee()},a=c.hash):(t=c,a=c.txid),e.next=19;break;case 9:e.prev=9,e.t0=e.catch(2),n="broadcast error: "+e.t0.toString(),console.log(X.k({type:"mvcTransferFail",msg:n,account:{network:B.network,address:A.address},receivers:s})),$.a(e.t0),$.b("mvcTransferFail_".concat(A.address)),O({error:n}),console.log("broadcast mvc error "),console.error(e.t0),g.b.error(e.t0.toString());case 19:D(!1),a&&(console.log(X.k(Object(d.a)({type:"mvcTransferSuccess",account:{network:B.network,address:A.address},receivers:s,txid:a},t))),$.b("mvcTransferSuccess_".concat(A.address,"_").concat(a)),O({response:Object(d.a)({},t)}),p.a.success({title:"Transaction broadcast success",content:Object(te.jsxs)("div",{children:["txid:"," ",Object(te.jsx)("a",{target:"_blank",rel:"noreferrer",href:Object(C.i)(B.network,a),children:a})]})}));case 21:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=Object(f.a)(Object(b.a)().mark((function e(){var a,t,c,n;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D(!0),a="",e.prev=2,e.next=5,be(i);case 5:return c=e.sent,e.next=8,Object(C.n)(B.network,c,A.privateKey,s,G.codehash,G.genesis,!1,y);case 8:n=e.sent,y?(t={txid:n.tx.hash,outputs:Object(C.k)(B.network,n.tx.serialize(!0)).outputs,fee:n.tx.getFee(),routeCheckTxid:n.routeCheckTx.hash,txHex:n.tx.serialize(!0),routeCheckTxHex:n.routeCheckTx.serialize(!0),routeCheckOutputs:Object(C.k)(B.network,n.routeCheckTx.serialize(!0)).outputs},a=n.tx.hash):(t=n,a=n.txid),e.next=21;break;case 12:e.prev=12,e.t0=e.catch(2),console.log("broadcast sensible ft error "),console.error(e.t0),g.b.error(e.t0.toString()),console.log(X.k({type:"ftTransferFail",msg:X.k(e.t0.message),account:{network:B.network,address:A.address},genesis:G.genesis,codehash:G.codehash,receivers:s})),$.a(e.t0),$.b("ftTransferFail_".concat(A.address,"_").concat(G.genesis,"_").concat(G.genesis)),O({error:e.t0.toString()});case 21:D(!1),a&&(console.log(X.k(Object(d.a)({type:"ftTransferSuccess,",account:{network:B.network,address:A.address,genesis:G.genesis,codehash:G.codehash},receivers:s,txid:a},t))),$.b("ftTransferSuccess_".concat(A.address,"_").concat(a)),O({response:Object(d.a)({},t)}),p.a.success({title:"Transaction broadcast success",content:Object(te.jsxs)("div",{children:["txid:"," ",Object(te.jsx)("a",{target:"_blank",rel:"noreferrer",href:Object(C.i)(B.network,a),children:a})]})}));case 23:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(){return e.apply(this,arguments)}}(),p.a.confirm({title:"Confirm the transaction",onOk:function(){J?o():u()}});case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(te.jsx)(x.a,{className:"card",title:Object(te.jsxs)("div",{style:{cursor:"pointer"},onClick:function(){u()},children:[Object(te.jsx)(T.a,{}),"Transfer"]}),loading:M,bordered:!1,children:Object(te.jsxs)(j.a,{form:H,layout:"vertical",onFinish:ee,children:[Object(te.jsx)("div",{className:"transfer-line",children:J?"Coin: ".concat(V):"Token: ".concat(V)}),!J&&Object(te.jsxs)("div",{className:"transfer-line",children:["Genesis: ",G.genesis]}),!J&&Object(te.jsxs)("div",{className:"transfer-line",children:["Codehash: ",G.codehash]}),!J&&Object(te.jsxs)("div",{className:"transfer-line",children:["SensibleId: ",G.sensibleId]}),Object(te.jsx)(v.a,{justify:"space-between",style:{margin:"10px 0"},children:Object(te.jsx)(m.a,{span:14,children:Object(te.jsx)("div",{style:{fontWeight:700},children:"Input"})})}),Object(te.jsx)("div",{className:"transfer-line",children:"Balance: ".concat(Z)}),Object(te.jsx)("div",{className:"transfer-line",children:"From Address: ".concat(A.address)}),Object(te.jsx)(v.a,{justify:"space-between",style:{margin:"10px 0"},children:Object(te.jsx)(m.a,{span:14,children:Object(te.jsx)("div",{style:{fontWeight:700},children:"Output"})})}),Object(te.jsx)(j.a.List,{name:"receiverList",children:function(e,a){var t=a.add,c=a.remove;return Object(te.jsxs)(te.Fragment,{children:[e.map((function(e,a,t){for(var n=arguments.length,r=new Array(n>3?n-3:0),s=3;s<n;s++)r[s-3]=arguments[s];return Object(te.jsxs)(w.b,{style:{display:"flex",marginBottom:8},align:"baseline",children:[Object(te.jsx)(j.a.Item,Object(d.a)(Object(d.a)({},r),{},{name:[a,"address"],fieldKey:[t,"address"],rules:[{required:!0,message:"Please input the address"},{message:"invalid address",validator:function(e,a){return Object(C.j)(B.network,a)?Promise.resolve():Promise.reject()}}],children:Object(te.jsx)(h.a,{placeholder:"Input the address",disabled:!W})})),Object(te.jsx)(j.a.Item,Object(d.a)(Object(d.a)({},r),{},{name:[a,"amount"],fieldKey:[t,"amount"],rules:[{required:!0,message:"Please input amount"}],children:Object(te.jsx)(k.a,{placeholder:"Amount",min:0,disabled:!W})})),Object(te.jsx)(l.a,{disabled:!W,size:"small",onClick:function(){return c(a)},shape:"circle",icon:Object(te.jsx)(I.a,{})})]},e.fieldKey)})),Object(te.jsx)(j.a.Item,{children:Object(te.jsx)(l.a,{type:"dashed",onClick:function(){return t()},icon:Object(te.jsx)(P.a,{}),disabled:!W,children:"Add Output"})})]})}}),Object(te.jsx)(j.a.Item,{children:Object(te.jsx)(l.a,{type:"primary",htmlType:"submit",block:!0,children:"Transfer"})})]})})}var ue=function(){Object(c.useEffect)((function(){V(q())}),[]);var e=Object(c.useState)(!1),a=Object(o.a)(e,2),t=a[0],n=a[1],r=Object(c.useState)(""),s=Object(o.a)(r,2),b=s[0],f=s[1],i=L("account"),u=Object(o.a)(i,1)[0],l=L("key"),h=Object(o.a)(l,1)[0],j=L("mvcBalance"),x=Object(o.a)(j,1)[0],v=L("sensibleFtList"),m=Object(o.a)(v,1)[0],O=Object(c.useState)([]),g=Object(o.a)(O,2),w=g[0],k=g[1],y=Object(c.useState)([]),S=Object(o.a)(y,2),T=S[0],I=S[1],P=Object(c.useState)([]),A=Object(o.a)(P,2),K=A[0],C=A[1],N=Object(c.useState)(!1),B=Object(o.a)(N,2),E=B[0],_=B[1],z=function(){n(!1),f("")},H=function(){if(!window.opener)return null;var e=window.location.hash.substr(1);try{var a=JSON.parse(decodeURIComponent(e));if("popup"===a.type&&"object"===typeof a.data)return a}catch(t){}return null},R=function(e){var a=H();a&&F(window.opener,"*").emit(a.id,{type:"response",data:Object(d.a)(Object(d.a)({},a.data.data),e)})},M=(null===h||void 0===h?void 0:h.address)&&(null===u||void 0===u?void 0:u.network),D=M&&x&&X.e(x.balance,0);return Q((function(){var e=H();if(e&&"request"===e.data.type){var a=e.data.data,t=a.method,c=a.params;"requestAccount"===t&&p.a.confirm({title:"Connect",content:Object(te.jsxs)("div",{children:["Allow ",Object(te.jsx)("b",{children:c.name})," to connect your web wallet"]}),onOk:function(){R({response:!0})},onCancel:function(){R({error:"user reject"})}})}}),!!M),Q((function(){var e=H();if(console.log("mvc hash data",e),e&&"request"===e.data.type){var a=e.data.data,t=a.method,c=a.params;if("transferMvc"===t){var r=c.receivers.reduce((function(e,a){return X.j(e,a.amount)}),0);X.d(r,x.balance)?R({error:"insufficient mvc balance"}):(n(!0),k(c.receivers),_(c.noBroadcast))}}}),!!D),Q((function(){var e=H();if(console.log("hashdata",e),e&&"request"===e.data.type){var a=e.data.data,t=a.method,c=a.params;if("transferSensibleFt"===t){var r=c.receivers.reduce((function(e,a){return X.j(e,a.amount)}),0);console.log("outputTotal",r);var s=m.find((function(e){return e.genesis===c.genesis}));console.log("ft",s),s?X.d(r,s.balance)?R({error:"insufficient ft balance"}):(n(!0),f(c.genesis),k(c.receivers),C(c.rabinApis),_(c.noBroadcast)):R({error:"insufficient ft balance"})}}}),!!D),Q((function(){var e=H();if(console.log("mvc hash data",e),e&&"request"===e.data.type){var a=e.data.data,t=a.method,c=a.params;"transferAll"===t&&c.datas.forEach((function(e){var a=!e.genesis,t=m.find((function(a){return a.genesis===e.genesis})),r=e.receivers.reduce((function(e,a){return X.j(e,a.amount)}),0);a&&X.d(r,x.balance)?R({error:"insufficient mvc balance"}):t&&X.d(r,t.balance)?R({error:"insufficient ft balance"}):(n(!0),I(c.datas))}))}}),!!D),Object(c.useEffect)((function(){var e=window.onbeforeunload;window.onbeforeunload=function(a){return R({error:"use closed"}),e&&e(a)}})),Object(te.jsxs)("div",{className:"App",style:{overflow:"hidden"},children:[Object(te.jsx)(ne,{accountName:"harry"}),Object(te.jsx)(re,{}),!t&&Object(te.jsx)(se,{onTransfer:function(e){n(!0),e&&f(e)}}),t&&(!T||T.length<1?Object(te.jsx)(ie,{genesis:b,rabinApis:K,onCancel:z,onTransferCallback:R,initReceivers:w,noBroadcast:E}):Object(te.jsx)(oe,{onCancel:z,onTransferCallback:R,initDatas:T}))]})},le=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,684)).then((function(a){var t=a.getCLS,c=a.getFID,n=a.getFCP,r=a.getLCP,s=a.getTTFB;t(e),c(e),n(e),r(e),s(e)}))};t(665),t(243);window===window.top?s.a.render(Object(te.jsx)(n.a.StrictMode,{children:Object(te.jsx)(ue,{})}),document.getElementById("root")):function(){Z.apply(this,arguments)}(),function(){var e=window.onbeforeunload;window.onbeforeunload=function(a){return!!window.opener||V(null),e&&e(a)}}(),le()},91:function(e,a,t){"use strict";var c;t.d(a,"a",(function(){return c})),function(e){e.Testnet="testnet",e.Mainnet="mainnet",e.STN="STN"}(c||(c={}))}},[[666,1,2]]]);
//# sourceMappingURL=main.43bceb1f.chunk.js.map